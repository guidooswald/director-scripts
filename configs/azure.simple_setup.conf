#
# Copyright (c) 2018 Cloudera, Inc. All rights reserved.
#

#
# Sample simple Azure Cloudera Altus Director configuration file
#
# This is a template for use in simple cluster setup for an Azure cluster.
#

#
# Required basic information
#

#
# Cluster name
#

name: simple-cluster

#
# The environment and deployment name will be generated by default based on the cluster
# name. Another cluster can be bootstrapped under the same deployment by specifying the
# existing environment and deployment name along with a new cluster name. If an existing
# environment is specified, then other information noted in this template should be
# omitted.
#
# environmentName: simple-cluster Environment
# deploymentName: simple-cluster Deployment

#
# The cloud provider: "azure" for Azure
#
providerType: azure

#
# The cluster type: basic, data_engineering, analytic_database, operational_database,
# or edh
#
clusterType: basic

#
# Azure configuration
#
# If an existing environment is specified above, this information is ignored
# and should be omitted.
#

#
# ID of Azure region to use. NOTE: region must support Premium Storage
# See: https://azure.microsoft.com/en-us/regions/#services
#
azureRegion: region_REPLACE_ME

#
# Azure Cloud Environment to use. Valid values are:
#   - azure
#   - azure-us-government
#   - azure-germany
#
# Default: azure
# azureCloudEnvironment: azure

#
# Azure Active Directory Subscription ID.
#
azureSubscriptionId: subscriptionId_REPLACE_ME

#
# Tenant ID (from AAD)
#
azureTenantId: tenantId_REPLACE_ME

#
# Azure Active Directory Application Client ID.
#
azureClientId: clientId_REPLACE_ME

#
# Client Secret
#
azureClientSecret: "clientSecret_REPLACE_ME"

#
# - computeResourceGroup: Resource Group for the deployment.  The Resource Group you specify must
#   exist within the region you selected.
#   See: https://azure.microsoft.com/en-us/documentation/articles/resource-group-overview/
#
azureComputeResourceGroup: computeResourceGroup_REPLACE_ME

#
# - networkSecurityGroupResourceGroup: The Resource Group for the Network Security Group. The
#   Resource Group you specify must exist within the region you selected.
#   See: https://azure.microsoft.com/en-us/documentation/articles/resource-group-overview/
#
azureNetworkSecurityGroupResourceGroup: networkSecurityGroupResourceGroup_REPLACE_ME

#
# - networkSecurityGroup: The Network Security Group for this instance type, this has to be
#   within the networkSecurityGroupResourceGroup. NSG configuration allows you to limit access to
#   the VM with firewall-like rules.
#   See: https://azure.microsoft.com/en-us/documentation/articles/virtual-networks-nsg/
#
azureNetworkSecurityGroup: networkSecurityGroupResourceGroup_REPLACE_ME

#
# - virtualNetworkResourceGroup: The Resource Group for the Virtual Network. The Resource Group you
#   specify must exist within the region you selected and should be the same for all instances that
#   will be used in the same cluster.
#   See: https://azure.microsoft.com/en-us/documentation/articles/resource-group-overview/
#
azureVirtualNetworkResourceGroup: virtualNetworkResourceGroup_REPLACE_ME

#
# - virtualNetwork: The Azure Virtual Network that will be used, this has to be within the
#   virtualNetworkResourceGroup and should be the same for all instances that will be used in the
#   same cluster.
#   See: https://azure.microsoft.com/en-us/documentation/services/virtual-network/
#
azureVirtualNetwork: virtualNetwork_REPLACE_ME

#
# - hostFqdnSuffix: Hostname FQDN Suffix. This is the DNS domain you configured in your custom DNS
#   server. Example values are: cdh-cluster.internal, cluster.your-company-name.com. The host FQDN
#   is configured on the VMs with the following format:
#       {instanceNamePrefix}-{truncated-UUID}.hostFqdnSuffix
#
azureHostFqdnSuffix: "hostFqdnSuffix_REPLACE_ME"

#
# - publicIP: Should virtual machines have Azure Public IP Address and DNS Label?  If Yes, the
#   machines will have a publically resolvable hostname with the following format:
#       {instanceNamePrefix}-{UUID}.{region}.cloudapp.azure.com
#   Allowed values: Yes, No
#
azurePublicIP: Yes

#
# SSH credentials to use to connect to the instances
#
# If an existing environment is specified above, this information is ignored
# and should be omitted.
#

#
# The username for SSH connections to instances
#
sshUsername: azuser

#
# The private key for SSH connections to instances
#
# The value must be a string containing the private key file contents.
#
sshPrivateKey: """-----BEGIN RSA PRIVATE KEY-----
REPLACE-ME
-----END RSA PRIVATE KEY-----
"""

#
# Other SSH credentials properties supported:
#
# sshPort: 22
# sshPassword: password-REPLACE-ME
#

#
# Simple cluster setup configuration properties
#
# Most other configuration properties are decided for you, but some properties
# must be specified. Others are optional.
#

#
# REQUIRED: Instance type for worker nodes (YARN node manager, HDFS datanode, etc.)
#
workerInstanceType: STANDARD_REPLACE_ME

#
# OPTIONAL: Tags to apply to all instances
#
#instanceTags {
#  purpose: proof-of-concept
#}

#
# OPTIONAL: Storage account type for worker VMs. Set to Premium_LRS to take
# full advantage of appropriate instance types.
#
# Supported: Premium_LRS, Standard_LRS
# Default: Standard_LRS
#
# azureWorkerStorageAccountType: Standard_LRS
#

#
# OPTIONAL: Image for all VMs
#
# If not specified, an image is selected based on the chosen operating system and
# cloud environment.
#
# NOTE: Automatic image selection is not available in cloud environments besides
# "azure" for centos7.4.
#
# instanceImage: REPLACE-ME
#

#
# OPTIONAL: Prefix for all VM names
#
# Default: simple
#
# instanceNamePrefix: simple

#
# OPTIONAL: Operating system for all VMs. Must match with instanceImage
# if specified.
#
# Supported os images by azureCloudEnvironment -
#   azure:               centos6.7, centos6.8, centos7.2, centos7.4, rhel6.7, rhel6.8, rhel7.2, rhel7.4
#   azure-us-government: centos6.7, centos6.8, centos7.2, centos7.4, rhel6.7, rhel6.8, rhel7.2, rhel7.4
#   azure-germany:       centos6.7, centos6.8, centos7.2, rhel6.7, rhel6.8, rhel7.2, rhel7.4
# Default: centos7.4
#
# os: centos7.4

#
# OPTIONAL: Cloudera Manager version
#
# Default: matches the default for the version of Cloudera Altus Director
#
# cmVersion: "6.0"

#
# OPTIONAL: CDH version
#
# Default: matches the default for the version of Cloudera Altus Director
#
# cdhVersion: "6.0"

#
# OPTIONAL: Number of master nodes
#
# Default: 1
#
# masterCount: 1

#
# OPTIONAL: Number of worker nodes
#
# Default: 3
#
# workerCount: 3

#
# OPTIONAL: Minimum number of worker nodes
#
# Default: 3
#
# workerMinCount: 3

#
# OPTIONAL: Number of gateway nodes
#
# Default: 1
#
# gatewayCount: 1

#
# OPTIONAL: Minimum number of gateway nodes
#
# Default: 1
#
# gatewayMinCount: 1
